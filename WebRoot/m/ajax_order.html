<div class="panel calendar" data-role="panel">
	<s:iterator value="#request.listday" id="item" status="i">
		<s:if test="#i.index==0">
			<div class="panel-holder">
				<div class="panel-header">
					${item}
				</div>
				<div class="panel-content">
					<ul class="table-modal-view mt15">
						<s:if test="#request.full_0=='full'">
							<div class="order-full">今天订单已满！</div>
						</s:if>
						<s:elseif test="#request.restriction_0!=-1">
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">07:00-09:00</span></li>
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">16:30-18:30</span></li>
							<s:if test="#request.listtime_0.size()>0">
								<s:iterator value="#request.listtime_0" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div style="text-align: center;padding-top: 15px;font-size: 1.8rem;">全天都可以订车！</div>
							</s:else>
						</s:elseif>
						<s:else>
							<s:if test="#request.listtime_0.size()>0">
								<s:iterator value="#request.listtime_0" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div class="order-empty">全天都可以订车！</div>
							</s:else>
						</s:else>
					</ul>
				</div>
			</div>
		</s:if>
		<s:elseif test="#i.index==1">
			<div class="panel-holder hide">
				<div class="panel-header">
					${item}
				</div>
				<div class="panel-content">
					<ul class="table-modal-view mt15">
						<s:if test="#request.full_1=='full'">
							<div class="order-full">今天订单已满！</div>
						</s:if>
						<s:elseif test="#request.restriction_1!=-1">
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">07:00-09:00</span></li>
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">16:30-18:30</span></li>
							<s:if test="#request.listtime_1.size()>0">
								<s:iterator value="#request.listtime_1" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div style="text-align: center;padding-top: 15px;font-size: 1.8rem;">全天都可以订车！</div>
							</s:else>
						</s:elseif>
						<s:else>
							<s:if test="#request.listtime_1.size()>0">
								<s:iterator value="#request.listtime_1" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div class="order-empty">全天都可以订车！</div>
							</s:else>
						</s:else>
					</ul>
				</div>
			</div>
		</s:elseif>
		<s:elseif test="#i.index==2">
			<div class="panel-holder hide">
				<div class="panel-header">
					${item}
				</div>
				<div class="panel-content">
					<ul class="table-modal-view mt15">
						<s:if test="#request.full_2=='full'">
							<div class="order-full">今天订单已满！</div>
						</s:if>
						<s:elseif test="#request.restriction_2!=-1">
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">07:00-09:00</span></li>
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">16:30-18:30</span></li>
							<s:if test="#request.listtime_2.size()>0">
								<s:iterator value="#request.listtime_2" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div style="text-align: center;padding-top: 15px;font-size: 1.8rem;">全天都可以订车！</div>
							</s:else>
						</s:elseif>
						<s:else>
							<s:if test="#request.listtime_2.size()>0">
								<s:iterator value="#request.listtime_2" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div class="order-empty">全天都可以订车！</div>
							</s:else>
						</s:else>
					</ul>
				</div>
			</div>
		</s:elseif>
		<s:elseif test="#i.index==3">
			<div class="panel-holder hide">
				<div class="panel-header">
					${item}
				</div>
				<div class="panel-content">
					<ul class="table-modal-view mt15">
						<s:if test="#request.full_3=='full'">
							<div class="order-full">今天订单已满！</div>
						</s:if>
						<s:elseif test="#request.restriction_3!=-1">
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">07:00-09:00</span></li>
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">16:30-18:30</span></li>
							<s:if test="#request.listtime_3.size()>0">
								<s:iterator value="#request.listtime_3" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div style="text-align: center;padding-top: 15px;font-size: 1.8rem;">全天都可以订车！</div>
							</s:else>
						</s:elseif>
						<s:else>
							<s:if test="#request.listtime_3.size()>0">
								<s:iterator value="#request.listtime_3" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div class="order-empty">全天都可以订车！</div>
							</s:else>
						</s:else>
					</ul>
				</div>
			</div>
		</s:elseif>
		<s:elseif test="#i.index==4">
			<div class="panel-holder hide">
				<div class="panel-header">
					${item}
				</div>
				<div class="panel-content">
					<ul class="table-modal-view mt15">
						<s:if test="#request.full_4=='full'">
							<div class="order-full">今天订单已满！</div>
						</s:if>
						<s:elseif test="#request.restriction_4!=-1">
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">07:00-09:00</span></li>
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">16:30-18:30</span></li>
							<s:if test="#request.listtime_4.size()>0">
								<s:iterator value="#request.listtime_4" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div style="text-align: center;padding-top: 15px;font-size: 1.8rem;">全天都可以订车！</div>
							</s:else>
						</s:elseif>
						<s:else>
							<s:if test="#request.listtime_4.size()>0">
								<s:iterator value="#request.listtime_4" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div class="order-empty">全天都可以订车！</div>
							</s:else>
						</s:else>
					</ul>
				</div>
			</div>
		</s:elseif>
		<s:elseif test="#i.index==5">
			<div class="panel-holder hide">
				<div class="panel-header">
					${item}
				</div>
				<div class="panel-content">
					<ul class="table-modal-view mt15">
						<s:if test="#request.full_5=='full'">
							<div class="order-full">今天订单已满！</div>
						</s:if>
						<s:elseif test="#request.restriction_5!=-1">
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">07:00-09:00</span></li>
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">16:30-18:30</span></li>
							<s:if test="#request.listtime_5.size()>0">
								<s:iterator value="#request.listtime_5" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div style="text-align: center;padding-top: 15px;font-size: 1.8rem;">全天都可以订车！</div>
							</s:else>
						</s:elseif>
						<s:else>
							<s:if test="#request.listtime_5.size()>0">
								<s:iterator value="#request.listtime_5" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div class="order-empty">全天都可以订车！</div>
							</s:else>
						</s:else>
					</ul>
				</div>
			</div>
		</s:elseif>
		<s:elseif test="#i.index==6">
			<div class="panel-holder hide">
				<div class="panel-header">
					${item}
				</div>
				<div class="panel-content">
					<ul class="table-modal-view mt15">
						<s:if test="#request.full_6=='full'">
							<div class="order-full">今天订单已满！</div>
						</s:if>
						<s:elseif test="#request.restriction_6!=-1">
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">07:00-09:00</span></li>
							<li class="table-modal-view-cell"><span class="tag-limited"></span><span class="tag-text">16:30-18:30</span></li>
							<s:if test="#request.listtime_6.size()>0">
								<s:iterator value="#request.listtime_6" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div style="text-align: center;padding-top: 15px;font-size: 1.8rem;">全天都可以订车！</div>
							</s:else>
						</s:elseif>
						<s:else>
							<s:if test="#request.listtime_6.size()>0">
								<s:iterator value="#request.listtime_6" id="timeitem" status="timei">
									<li class="table-modal-view-cell"><span class="tag-usable"></span><span class="tag-text">${timeitem.start}-${timeitem.finish}</span></li>
								</s:iterator>
							</s:if>
							<s:else>
								<div class="order-empty">全天都可以订车！</div>
							</s:else>
						</s:else>
					</ul>
				</div>
			</div>
		</s:elseif>
	</s:iterator>
	
	<div class="panel-footer segmented-control ">
		<a class="platform-switch control-item font-positive " href="#" onclick="checkout()">立即预订</a>
		<a class="platform-switch control-item font-gray modal-close ">取  消</a>
	</div>
	<a href="javascript:;" class="calendar-left active"></a>
	<a href="javascript:;" class="calendar-right active"></a>
	
	<input id="carid_hide" type="hidden" value="${carid}" />
</div>
<script type="text/javascript">
	var pThis = $('.panel');
	var count = pThis.find('.panel-holder').size();
	pThis.data('index', 0);
	var execute = function(index) {
		if (index < 0) {
			index = count - 1;
		} else if (index > count - 1) {
			index = 0;
		}
		pThis.find('.panel-holder').addClass('hide');
		$(pThis.find('.panel-holder').get(index)).removeClass('hide');
		pThis.data("index", index);
		// todo animate
	};
	pThis.find('.calendar-left').click(function() {
		execute(pThis.data("index") - 1);
		return false;
	});
	pThis.find('.calendar-right').click(function() {
		execute(pThis.data("index") + 1);
		return false;
	});
	
	var checkout = function(){
		var carid = $('#carid_hide').val();
		var startTime = $('#startTimeIndex').val();
		var finishTime = $('#finishTimeIndex').val();
		
		location.href="checkout.html?carid="+carid+"&startTime="+startTime+"&finishTime="+finishTime;
	};
</script>